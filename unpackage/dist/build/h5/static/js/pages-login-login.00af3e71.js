(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"157d":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("6699")),o=a(i("3ef4")),s=a(i("f015")),r=a(i("289c")),c={components:{cmdNavBar:n.default,cmdPageBody:o.default,cmdTransition:s.default,cmdInput:r.default},data:function(){return{loading:!1,res:"",account:{username:"",password:""},usernameReg:/^[A-Za-z0-9]+$/,passwordReg:/^\w+$/,loginAccount:!1,mobile:{phone:"",code:""},phoneReg:/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,loginMobile:!1,safety:{time:60,state:!1,interval:""},status:!1}},watch:{mobile:{handler:function(t){this.phoneReg.test(t.phone)&&6===t.code.length?this.loginMobile=!0:this.loginMobile=!1},deep:!0},account:{handler:function(t){this.usernameReg.test(t.username)&&t.username.length>=8&&this.passwordReg.test(t.password)&&t.password.length>=8?this.loginAccount=!0:this.loginAccount=!1},deep:!0}},methods:{fnLogin:function(){this.$myRequest.post("/user-info/v1/login",{pwd:this.account.password,userName:this.account.username},{success:function(t){200==t.data.code?uni.setStorage({key:"userInfo",data:t.data.data,success:function(){uni.showToast({title:t.message,icon:"success"}),uni.switchTab({url:"/pages/tabbar/tabbar-1/tabbar-1"})}}):alert(t.data.message)}})},fnGetPhoneCode:function(){var t=this;this.phoneReg.test(this.mobile.phone)?uni.showToast({title:"正在发送验证码",icon:"loading",success:function(){t.safety.state=!0,t.safety.interval=setInterval((function(){t.safety.time--<=0&&(t.safety.time=60,t.safety.state=!1,clearInterval(t.safety.interval))}),1e3),uni.showToast({title:"发送成功",icon:"success"})}}):uni.showToast({title:"手机号不正确",icon:"none"})},fnChangeStatus:function(e){this.mobile={phone:"",code:""},this.loginMobile=!1,this.account={username:"",password:""},t("log",this.account," at pages/login/login.vue:305"),this.loginAccount=!1,clearInterval(this.safety.interval),this.safety.time=60,this.safety.state=!1,e||(this.status=!this.status)},fnRegisterWin:function(){uni.navigateTo({url:"/pages/login/register"}),this.fnChangeStatus(!0)}},beforeDestroy:function(){clearInterval(this.safety.interval)},onNavigationBarButtonTap:function(t){0==t.index&&uni.redirectTo({url:"/pages/login/register"})}};e.default=c}).call(this,i("0de9")["log"])},4503:function(t,e,i){"use strict";i.r(e);var a=i("f895"),n=i("4c1f");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("6cd8");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"12485bfa",null,!1,a["a"],s);e["default"]=c.exports},"4c1f":function(t,e,i){"use strict";i.r(e);var a=i("157d"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"692b":function(t,e,i){t.exports=i.p+"static/img/dianhua.a834943f.png"},"6cd8":function(t,e,i){"use strict";var a=i("71bc"),n=i.n(a);n.a},"71bc":function(t,e,i){var a=i("e9c3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("375589b9",a,!0,{sourceMap:!1,shadowMode:!1})},7631:function(t,e,i){t.exports=i.p+"static/img/yanzheng.8ad44473.png"},bbdf:function(t,e,i){t.exports=i.p+"static/img/team1.91921e57.png"},bd56:function(t,e,i){t.exports=i.p+"static/img/mima.53ce5afa.png"},e9c3:function(t,e,i){var a=i("24fb"),n=i("1de5"),o=i("9ac0");e=a(!1);var s=n(o);e.push([t.i,".page[data-v-12485bfa]{position:absolute;top:0;left:0;bottom:0;width:100%;height:100%;z-index:90000;background-color:#fff;background:url("+s+") no-repeat;background-size:100%;-webkit-background-size:100%;-o-background-size:100%;background-position:50%}.login[data-v-12485bfa]{margin-top:%?450?%;margin-right:%?72?%;margin-left:%?72?%;background-color:hsla(0,0%,100%,.61);-webkit-border-radius:%?30?%;border-radius:%?30?%}.loginimage[data-v-12485bfa]{width:%?70?%;height:%?70?%;margin:%?5?% %?20?% 0 %?10?%}.loginimage1[data-v-12485bfa]{width:%?60?%;height:%?60?%;margin:%?10?% %?20?% 0 %?10?%}.login-title[data-v-12485bfa]{font-size:%?38?%;padding:%?10?% 0 0 0;font-weight:500;color:#000;text-align:center}.login-explain[data-v-12485bfa]{font-size:%?28?%;color:#fff}.login-phone[data-v-12485bfa]{margin:0 auto;width:90%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:%?50?%;border-radius:%?50?%;margin-top:%?20?%;margin-bottom:%?20?%;background-color:rgba(0,0,0,.41)}.login-phone-getcode[data-v-12485bfa]{margin-right:%?20?%;color:#fff;text-align:center;min-width:%?140?%;padding:0 %?10?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;background-color:rgba(217,93,0,.9)}.login-code[data-v-12485bfa]{margin:0 auto;width:90%;-webkit-border-radius:%?50?%;border-radius:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:rgba(0,0,0,.41)}.login-username[data-v-12485bfa]{margin:0 auto;width:90%;margin-top:%?36?%;margin-bottom:%?40?%;background-color:rgba(0,0,0,.41);-webkit-border-radius:%?50?%;border-radius:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.login-password[data-v-12485bfa]{margin:0 auto;width:90%;background-color:rgba(0,0,0,.41);-webkit-border-radius:%?50?%;border-radius:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.btn-login[data-v-12485bfa]{margin-top:%?10?%;margin-bottom:%?30?%;-webkit-border-radius:%?50?%;border-radius:%?50?%;font-size:16px;width:70%;color:#fff;background:-webkit-gradient(linear,left top,right top,from(#d95d00),to(#ff9e02));background:-webkit-linear-gradient(left,#d95d00,#ff9e02);background:linear-gradient(90deg,#d95d00,#ff9e02)}.btn-login-active[data-v-12485bfa]{background:-webkit-gradient(linear,left top,right top,from(#d95d00),to(#fca901));background:-webkit-linear-gradient(left,#d95d00,#fca901);background:linear-gradient(90deg,#d95d00,#fca901)}.btn-login-hover[data-v-12485bfa]{background:-webkit-gradient(linear,left top,right top,from(#d95d00),to(#fca901));background:-webkit-linear-gradient(left,#d95d00,#fca901);background:linear-gradient(90deg,#d95d00,#fca901)}uni-button[disabled][data-v-12485bfa]{color:#fff}.login-mode[data-v-12485bfa]{text-align:center;margin-top:%?20?%}",""]),t.exports=e},f895:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={cmdNavBar:i("6699").default,cmdPageBody:i("3ef4").default,cmdTransition:i("f015").default,cmdInput:i("289c").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[a("cmd-nav-bar",{attrs:{title:"用户登录","right-text":""}}),a("cmd-page-body",{attrs:{type:"top"}},[a("v-uni-view",{staticClass:"login"},[a("v-uni-view",{staticClass:"login-title"},[t._v(t._s(t.status?"手机快捷登录":"账号密码登录"))]),a("cmd-transition",{attrs:{name:"fade-up"}},[t.status?a("v-uni-view",[a("v-uni-view",{staticClass:"login-phone"},[a("v-uni-view",[a("v-uni-image",{staticClass:"loginimage",attrs:{src:i("692b"),mode:""}})],1),a("cmd-input",{attrs:{type:"number",focus:!0,maxlength:"11",placeholder:"请输入手机号"},model:{value:t.mobile.phone,callback:function(e){t.$set(t.mobile,"phone",e)},expression:"mobile.phone"}}),a("v-uni-view",{staticClass:"login-phone-getcode",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),!t.safety.state&&t.fnGetPhoneCode()}}},[t._v(t._s(t.safety.state?t.safety.time+" s":"获取验证码"))])],1),a("v-uni-view",{staticClass:"login-code"},[a("v-uni-view",[a("v-uni-image",{staticClass:"loginimage",attrs:{src:i("7631"),mode:""}})],1),a("cmd-input",{attrs:{type:"number",maxlength:"6",placeholder:"请输入短信验证码"},model:{value:t.mobile.code,callback:function(e){t.$set(t.mobile,"code",e)},expression:"mobile.code"}})],1),a("v-uni-view",{staticClass:"login-phone",staticStyle:{opacity:"0"}},[a("v-uni-view",[a("v-uni-image",{staticClass:"loginimage",attrs:{src:"",mode:""}})],1)],1),a("v-uni-navigator",{attrs:{url:"/pages/tabbar/tabbar-1/tabbar-1","open-type":"switchTab","hover-class":"other-navigator-hover"}},[a("v-uni-button",{staticClass:"btn-login",class:t.loginMobile?"btn-login-active":"",attrs:{disabled:!t.loginMobile,"hover-class":"btn-login-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fnLogin()}}},[t._v("登录")])],1)],1):t._e()],1),a("cmd-transition",{attrs:{name:"fade-up"}},[t.status?t._e():a("v-uni-view",[a("v-uni-view",{staticClass:"login-username"},[a("v-uni-view",[a("v-uni-image",{staticClass:"loginimage1",attrs:{src:i("bbdf"),mode:""}})],1),a("cmd-input",{attrs:{type:"text",focus:!0,maxlength:"26",placeholder:"请输入账号"},model:{value:t.account.username,callback:function(e){t.$set(t.account,"username",e)},expression:"account.username"}})],1),a("v-uni-view",{staticClass:"login-password"},[a("v-uni-view",[a("v-uni-image",{staticClass:"loginimage1",attrs:{src:i("bd56"),mode:""}})],1),a("cmd-input",{attrs:{type:"password",displayable:!0,maxlength:"26",placeholder:"请输入密码"},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password",e)},expression:"account.password"}})],1),a("v-uni-view",{staticClass:"login-phone",staticStyle:{opacity:"0"}},[a("v-uni-view",[a("v-uni-image",{staticClass:"loginimage",attrs:{src:"",mode:""}})],1)],1),a("v-uni-button",{staticClass:"btn-login",class:t.loginAccount?"btn-login-active":"",attrs:{"hover-class":"btn-login-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),arguments[0]=e=t.$handleEvent(e),t.fnLogin.apply(void 0,arguments)}}},[t._v("登录")])],1)],1),a("v-uni-view",{staticClass:"login-mode",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fnChangeStatus(!1)}}},[t._v(t._s(t.status?"账号密码登录":"手机快捷登录"))]),a("v-uni-navigator",{attrs:{url:"/pages/login/register","hover-class":"other-navigator-hover"}},[a("v-uni-view",{staticClass:"login-mode"},[t._v("注册")])],1)],1)],1),a("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt"},[a("v-uni-view",{staticClass:"uni-common-mt"},[a("v-uni-textarea",{attrs:{value:t.res}})],1)],1)],1)},o=[]}}]);